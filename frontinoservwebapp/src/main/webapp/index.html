<!DOCTYPE html>
<html ng-app="app">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="shortcut icon" href="favicon.ico">

        <title>Portal de Clientes</title>

        <!-- Bootstrap Core CSS -->
        <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet">


        <!-- jQuery -->
        <script src="js/jquery/jquery.min.js"></script>

        <!-- Bootstrap Core JavaScript -->
        <script src="js/bootstrap/bootstrap.min.js"></script>

        <script src="js/angular/angular.min.js"></script>
        <script src="js/angular/angular-route.js"></script>
        <script src="js/angular/angular-resource.js"></script>
        <script src="js/angular/angular-cookies.js"></script>
        <script src="js/app/seguridad/app.js"></script>
        <script src="js/app/seguridad/loginServices.js"></script>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script>

        </script>
    </head>

    <body>
        <div ng-controller="LoginCtrl">
            <div class="container">

                <div class="row">

                    <div class="col-md-4 col-md-offset-4">

                        <div style="margin-top: 50px;">
                            <div class="text-center">
                                <a href="http://www.frontinosoft.com" target="blank"><img src="images/pata.png"/></a>
                                <br>
                                {{translation.appNameFull}}
                            </div>
                        </div>
                        <div class="login-panel panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title">{{translation.welcome}}</h3>

                            </div>
                            <div class="panel-body">
                                <div class="alert alert-danger" role="alert" ng-show="muestraMensajeError">
                                    {{mensajeError}}
                                </div>
                                <form name="myForm" role="form" validate>
                                    <fieldset>
                                        <div class="form-group">
                                            <input ng-show="!empresasList.length" class="form-control" placeholder="{{translation.email}}" name="email" type="email" 
                                                   ng-model="email" required="true"
                                                   data-error="Bruh, that email address is invalid"
                                                   autofocus>
                                            <label ng-show="empresasList.length">
                                                Usuario : 
                                                {{email}}
                                            </label>
                                        </div>
                                        <div class="form-group" ng-show="!empresasList.length">
                                            <input class="form-control" placeholder="{{translation.password}}" name="password" type="password" value=""
                                                   ng-model="password" required="true">
                                        </div>
                                        <div class="form-group" ng-show="empresasList.length">
                                            <select ng-model="empresa"
                                                    ng-options="item.nomEmp for item in empresasList track by item.nomEmp"
                                                    class="form-control">

                                            </select>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                <input name="remember" type="checkbox" value="Remember Me">{{translation.remember}}
                                            </label>
                                        </div>
                                        <!-- Change this to a button or input when using this as a form -->


                                        <button ng-click="validateUser()" ng-disabled="myForm.$invalid || consultando"
                                                ng-show="!empresasList.length"
                                                class="btn btn-lg btn-primary btn-block">{{translation.login}}
                                        </button>

                                        <button ng-click="ingresar()" ng-disabled="myForm.$invalid"
                                                ng-show="empresasList.length"
                                                class="btn btn-lg btn-primary btn-block">Ingresar
                                        </button>
                                        <button ng-click="cancelar()"
                                                ng-show="empresasList.length"
                                                class="btn btn-lg btn-primary btn-block">Cancelar
                                        </button>

                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </body>

</html>